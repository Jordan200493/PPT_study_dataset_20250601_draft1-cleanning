---
title: "PPT_study_dataset_20250601_draft1-cleanning"
author: "Ming-Lun Tsai( Jordan)"
date: "2025-08-07"
output: html_document
---

## 1. Convert Factor Columns to Character

When data is imported, character columns may be automatically converted to factors. Since factors can interfere with string manipulation, we convert them back to characters before further processing.

```{r convert_factors, echo=TRUE}
data[] <- lapply(data, function(col) {
  if (is.factor(col)) {
    col <- as.character(col)
  }
  return(col)
})
```

## 2. Standardize Character Columns

After ensuring that factor columns are converted to characters, we process all character columns to enforce a consistent format. Specifically, we convert all text to lowercase and replace hyphens (`-`) with underscores (`_`).

```{r standardize_characters, echo=TRUE}
data[] <- lapply(data, function(col) {
  if (is.character(col)) {
    col <- tolower(col)
    col <- gsub("-", "_", col)
  }
  return(col)
})
```


